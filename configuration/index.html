
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Box: building and managing PHARs">
      
      
      
        <link rel="canonical" href="https://box-project.github.io/box/configuration/">
      
      
        <link rel="prev" href="../usage/">
      
      
        <link rel="next" href="../requirement-checker/">
      
      
      <link rel="icon" href="../img/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Configuration - Box Project</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/announce.css">
    
      <link rel="stylesheet" href="../assets/docs.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="brown" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
    Consider supporting Box via
    <span class="twemoji heart">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="m241 87.1 15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1v2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7v-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1"/></svg>
    </span>
    <a href="https://github.com/sponsors/theofidry" class="text-light">
        <strong>Github sponsorship</strong>
    </a>

          </div>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Box Project" class="md-header__button md-logo" aria-label="Box Project" data-md-component="logo">
      
  <img src="../img/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Box Project
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/box-project/box" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    box-project/box
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../installation/" class="md-tabs__link">
          
  
  
  Documentation

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Box Project" class="md-nav__button md-logo" aria-label="Box Project" data-md-component="logo">
      
  <img src="../img/favicon.png" alt="logo">

    </a>
    Box Project
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/box-project/box" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    box-project/box
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base-path-base-path" class="md-nav__link">
    <span class="md-ellipsis">
      Base-path (base-path)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-main" class="md-nav__link">
    <span class="md-ellipsis">
      Main (main)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-output" class="md-nav__link">
    <span class="md-ellipsis">
      Output (output)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#permissions-chmod" class="md-nav__link">
    <span class="md-ellipsis">
      Permissions (chmod)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-requirements-check-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Check requirements (check-requirements)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#including-files" class="md-nav__link">
    <span class="md-ellipsis">
      Including files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Including files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#force-auto-discovery-force-autodiscovery" class="md-nav__link">
    <span class="md-ellipsis">
      Force auto-discovery (force-autodiscovery)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files-files-and-files-bin" class="md-nav__link">
    <span class="md-ellipsis">
      Files (files and files-bin)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#directories-directories-and-directories-bin" class="md-nav__link">
    <span class="md-ellipsis">
      Directories (directories and directories-bin)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finder-finder-and-finder-bin" class="md-nav__link">
    <span class="md-ellipsis">
      Finder (finder and finder-bin)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blacklist-blacklist" class="md-nav__link">
    <span class="md-ellipsis">
      Blacklist (blacklist)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#excluding-the-composer-files-exclude-composer-files" class="md-nav__link">
    <span class="md-ellipsis">
      Excluding the Composer files (exclude-composer-files)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#excluding-dev-files-exclude-dev-files" class="md-nav__link">
    <span class="md-ellipsis">
      Excluding dev files (exclude-dev-files)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map-map" class="md-nav__link">
    <span class="md-ellipsis">
      Map (map)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stub" class="md-nav__link">
    <span class="md-ellipsis">
      Stub
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Stub">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stub-stub" class="md-nav__link">
    <span class="md-ellipsis">
      Stub (stub)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shebang-shebang" class="md-nav__link">
    <span class="md-ellipsis">
      Shebang (shebang)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intercept-intercept" class="md-nav__link">
    <span class="md-ellipsis">
      Intercept (intercept)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alias-alias" class="md-nav__link">
    <span class="md-ellipsis">
      Alias (alias)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#banner-banner" class="md-nav__link">
    <span class="md-ellipsis">
      Banner (banner)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#banner-file-banner-file" class="md-nav__link">
    <span class="md-ellipsis">
      Banner file (banner-file)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forcing-the-timestamp-timestamp" class="md-nav__link">
    <span class="md-ellipsis">
      Forcing the timestamp (timestamp)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dumping-the-composer-autoloader-dump-autoload" class="md-nav__link">
    <span class="md-ellipsis">
      Dumping the Composer autoloader (dump-autoload)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compactors-compactors" class="md-nav__link">
    <span class="md-ellipsis">
      Compactors (compactors)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compactors (compactors)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#annotations-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      Annotations (annotations)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#php-scoper-php-scoper" class="md-nav__link">
    <span class="md-ellipsis">
      PHP-Scoper (php-scoper)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compression-algorithm-compression" class="md-nav__link">
    <span class="md-ellipsis">
      Compression algorithm (compression)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      Security
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#signing-algorithm-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Signing algorithm (algorithm)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-private-key-key" class="md-nav__link">
    <span class="md-ellipsis">
      The private key (key)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-private-key-password-key-pass" class="md-nav__link">
    <span class="md-ellipsis">
      The private key password (key-pass)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata (metadata)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replaceable-placeholders" class="md-nav__link">
    <span class="md-ellipsis">
      Replaceable placeholders
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Replaceable placeholders">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replacements-replacements" class="md-nav__link">
    <span class="md-ellipsis">
      Replacements (replacements)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replacement-sigil-replacement-sigil" class="md-nav__link">
    <span class="md-ellipsis">
      Replacement sigil (replacement-sigil)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetime-placeholder-datetime" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime placeholder (datetime)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetime-placeholder-format-datetime-format" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime placeholder format (datetime-format)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pretty-git-tag-placeholder-git" class="md-nav__link">
    <span class="md-ellipsis">
      Pretty git tag placeholder (git)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-commit-placeholder-git-commit" class="md-nav__link">
    <span class="md-ellipsis">
      Git commit placeholder (git-commit)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-git-commit-placeholder-git-commit-short" class="md-nav__link">
    <span class="md-ellipsis">
      Short git commit placeholder (git-commit-short)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-tag-placeholder-git-tag" class="md-nav__link">
    <span class="md-ellipsis">
      Git tag placeholder (git-tag)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-version-placeholder-git-version" class="md-nav__link">
    <span class="md-ellipsis">
      Git version placeholder (git-version)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../requirement-checker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Requirements checker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../optimizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimize your PHAR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code-isolation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PHAR code isolation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../symfony/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Symfony support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reproducible-builds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reproducible builds
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phar-signing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PHAR signing best practices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base-path-base-path" class="md-nav__link">
    <span class="md-ellipsis">
      Base-path (base-path)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-main" class="md-nav__link">
    <span class="md-ellipsis">
      Main (main)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-output" class="md-nav__link">
    <span class="md-ellipsis">
      Output (output)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#permissions-chmod" class="md-nav__link">
    <span class="md-ellipsis">
      Permissions (chmod)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-requirements-check-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Check requirements (check-requirements)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#including-files" class="md-nav__link">
    <span class="md-ellipsis">
      Including files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Including files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#force-auto-discovery-force-autodiscovery" class="md-nav__link">
    <span class="md-ellipsis">
      Force auto-discovery (force-autodiscovery)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files-files-and-files-bin" class="md-nav__link">
    <span class="md-ellipsis">
      Files (files and files-bin)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#directories-directories-and-directories-bin" class="md-nav__link">
    <span class="md-ellipsis">
      Directories (directories and directories-bin)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finder-finder-and-finder-bin" class="md-nav__link">
    <span class="md-ellipsis">
      Finder (finder and finder-bin)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blacklist-blacklist" class="md-nav__link">
    <span class="md-ellipsis">
      Blacklist (blacklist)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#excluding-the-composer-files-exclude-composer-files" class="md-nav__link">
    <span class="md-ellipsis">
      Excluding the Composer files (exclude-composer-files)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#excluding-dev-files-exclude-dev-files" class="md-nav__link">
    <span class="md-ellipsis">
      Excluding dev files (exclude-dev-files)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map-map" class="md-nav__link">
    <span class="md-ellipsis">
      Map (map)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stub" class="md-nav__link">
    <span class="md-ellipsis">
      Stub
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Stub">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stub-stub" class="md-nav__link">
    <span class="md-ellipsis">
      Stub (stub)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shebang-shebang" class="md-nav__link">
    <span class="md-ellipsis">
      Shebang (shebang)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intercept-intercept" class="md-nav__link">
    <span class="md-ellipsis">
      Intercept (intercept)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alias-alias" class="md-nav__link">
    <span class="md-ellipsis">
      Alias (alias)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#banner-banner" class="md-nav__link">
    <span class="md-ellipsis">
      Banner (banner)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#banner-file-banner-file" class="md-nav__link">
    <span class="md-ellipsis">
      Banner file (banner-file)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forcing-the-timestamp-timestamp" class="md-nav__link">
    <span class="md-ellipsis">
      Forcing the timestamp (timestamp)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dumping-the-composer-autoloader-dump-autoload" class="md-nav__link">
    <span class="md-ellipsis">
      Dumping the Composer autoloader (dump-autoload)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compactors-compactors" class="md-nav__link">
    <span class="md-ellipsis">
      Compactors (compactors)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compactors (compactors)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#annotations-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      Annotations (annotations)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#php-scoper-php-scoper" class="md-nav__link">
    <span class="md-ellipsis">
      PHP-Scoper (php-scoper)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compression-algorithm-compression" class="md-nav__link">
    <span class="md-ellipsis">
      Compression algorithm (compression)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      Security
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#signing-algorithm-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Signing algorithm (algorithm)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-private-key-key" class="md-nav__link">
    <span class="md-ellipsis">
      The private key (key)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-private-key-password-key-pass" class="md-nav__link">
    <span class="md-ellipsis">
      The private key password (key-pass)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata (metadata)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replaceable-placeholders" class="md-nav__link">
    <span class="md-ellipsis">
      Replaceable placeholders
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Replaceable placeholders">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replacements-replacements" class="md-nav__link">
    <span class="md-ellipsis">
      Replacements (replacements)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replacement-sigil-replacement-sigil" class="md-nav__link">
    <span class="md-ellipsis">
      Replacement sigil (replacement-sigil)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetime-placeholder-datetime" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime placeholder (datetime)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetime-placeholder-format-datetime-format" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime placeholder format (datetime-format)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pretty-git-tag-placeholder-git" class="md-nav__link">
    <span class="md-ellipsis">
      Pretty git tag placeholder (git)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-commit-placeholder-git-commit" class="md-nav__link">
    <span class="md-ellipsis">
      Git commit placeholder (git-commit)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-git-commit-placeholder-git-commit-short" class="md-nav__link">
    <span class="md-ellipsis">
      Short git commit placeholder (git-commit-short)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-tag-placeholder-git-tag" class="md-nav__link">
    <span class="md-ellipsis">
      Git tag placeholder (git-tag)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-version-placeholder-git-version" class="md-nav__link">
    <span class="md-ellipsis">
      Git version placeholder (git-version)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h1>
<ol>
<li><a href="#base-path-base-path">Base path</a></li>
<li><a href="#main-main">Main</a></li>
<li><a href="#output-output">Output</a></li>
<li><a href="#permissions-chmod">Permissions</a></li>
<li><a href="#check-requirements-check-requirements">Check requirements</a></li>
<li><a href="#including-files">Including files</a><ol>
<li><a href="#force-auto-discovery-force-autodiscovery">Force auto-discovery (<code>force-autodiscovery</code>)</a></li>
<li><a href="#files-files-and-files-bin">Files (<code>files</code> and <code>files-bin</code>)</a></li>
<li><a href="#directories-directories-and-directories-bin">Directories (<code>directories</code> and <code>directories-bin</code>)</a></li>
<li><a href="#finder-finder-and-finder-bin">Finder (<code>finder</code> and <code>finder-bin</code>)</a></li>
<li><a href="#blacklist-blacklist">Blacklist (<code>blacklist</code>)</a></li>
<li><a href="#excluding-the-composer-files-exclude-composer-files">Excluding the Composer files (<code>exclude-composer-files</code>)</a></li>
<li><a href="#excluding-dev-files-exclude-dev-files">Excluding dev files (<code>exclude-dev-files</code>)</a></li>
<li><a href="#map-map">Map (<code>map</code>)</a></li>
</ol>
</li>
<li><a href="#stub">Stub</a><ol>
<li><a href="#stub-stub">Stub (<code>stub</code>)</a></li>
<li><a href="#alias-alias">Alias (<code>alias</code>)</a></li>
<li><a href="#shebang-shebang">Shebang (<code>shebang</code>)</a></li>
<li><a href="#banner-banner">Banner (<code>banner</code>)</a></li>
<li><a href="#banner-file-banner-file">Banner file (<code>banner-file</code>)</a></li>
</ol>
</li>
<li><a href="#forcing-the-timestamp-timestamp">Forcing the timestamp (<code>timestamp</code>)</a></li>
<li><a href="#dumping-the-composer-autoloader-dump-autoload">Dumping the Composer autoloader (<code>dump-autoload</code>)</a></li>
<li><a href="#compactors-compactors">Compactors (<code>compactors</code>)</a><ol>
<li><a href="#annotations-annotations">Annotations (<code>annotations</code>)</a></li>
<li><a href="#php-scoper-php-scoper">PHP-Scoper (<code>php-scoper</code>)</a></li>
</ol>
</li>
<li><a href="#compression-algorithm-compression">Compression algorithm (<code>compression</code>)</a></li>
<li><a href="#security">Security</a><ol>
<li><a href="#signing-algorithm-algorithm">Signing algorithm (<code>algorithm</code>)</a></li>
<li><a href="#the-private-key-key">The private key (<code>key</code>)</a></li>
<li><a href="#the-private-key-password-key-pass">The private key password (<code>key-pass</code>)</a></li>
</ol>
</li>
<li><a href="#metadata-metadata">Metadata (<code>metadata</code>)</a></li>
<li><a href="#replaceable-placeholders">Replaceable placeholders</a><ol>
<li><a href="#replacements-replacements">Replacements (<code>replacements</code>)</a></li>
<li><a href="#replacement-sigil-replacement-sigil">Replacement sigil (<code>replacement-sigil</code>)</a></li>
<li><a href="#datetime-placeholder-datetime">Datetime placeholder (<code>datetime</code>)</a></li>
<li><a href="#datetime-placeholder-format-datetime-format">Datetime placeholder format (<code>datetime-format</code>)</a></li>
<li><a href="#pretty-git-tag-placeholder-git">Pretty git commit placeholder (<code>git</code>)</a></li>
<li><a href="#git-commit-placeholder-git-commit">Git commit placeholder (<code>git-commit</code>)</a></li>
<li><a href="#short-git-commit-placeholder-git-commit-short">Short git commit placeholder (<code>git-commit-short</code>)</a></li>
<li><a href="#git-tag-placeholder-git-tag">Git tag placeholder (<code>git-tag</code>)</a></li>
<li><a href="#git-version-placeholder-git-version">Git version placeholder (<code>git-version</code>)</a></li>
</ol>
</li>
</ol>
<p>The build command will build a new PHAR based on a variety of settings.</p>
<p>This command relies on a configuration file for loading PHAR packaging settings. If a configuration file is not
specified through the <code>--config|-c option</code>, one of the following files will be used (in order): <code>box.json</code>,
<code>box.json.dist</code>. If no configuration file is found, Box will proceed with the default settings.</p>
<p>The configuration file is a JSON object saved to a file. Note that <strong>all settings are optional</strong>. If a setting is set
to <code>null</code>, then its default value will be picked and is strictly equivalent to not setting the value.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;algorithm&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;alias&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;annotations&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;banner&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;banner-file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;base-path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;blacklist&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;check-requirements&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;chmod&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;compactors&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;compression&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;datetime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;datetime-format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;directories&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;directories-bin&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;dump-autoload&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;exclude-composer-files&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;exclude-dev-files&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;files&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;files-bin&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;finder&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;finder-bin&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;force-autodiscovery&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;git&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;git-commit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;git-commit-short&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;git-tag&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;git-version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;intercept&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;key-pass&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;main&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;map&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;php-scoper&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;replacement-sigil&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;replacements&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shebang&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;stub&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;?&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="base-path-base-path">Base-path (<code>base-path</code>)<a class="headerlink" href="#base-path-base-path" title="Permanent link">&para;</a></h2>
<p>The <code>base-path</code> (<code>string</code>|<code>null</code>) setting is used to specify where all of the relative file paths should resolve to.
This does not, however, alter where the built PHAR will be stored (see: <code>output</code>).</p>
<p>If set to <code>null</code> or not specified, the base path used is the directory containing the configuration file when a specific
configuration file is given or the current working directory otherwise.</p>
<h2 id="main-main">Main (<code>main</code>)<a class="headerlink" href="#main-main" title="Permanent link">&para;</a></h2>
<p>The main (<code>string</code>|<code>false</code>|<code>null</code>) setting is used to specify the file (relative to <a href="#base-path-base-path"><code>base-path</code></a>) that will
be run when the PHAR is executed from the command line (To not confuse with the <a href="#stub">stub</a> which is the PHAR
bootstrapping file).</p>
<p>When you have a main script file that can be used as a <a href="#stub">stub</a>, you can disable the main script by setting it to
false:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;stub&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bin/acme.php&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;main&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">}</span>
</code></pre></div>
<p>When the parameter is not given or set to <code>null</code>, Box tries to guess the binary of the application with the
<code>composer.json</code> file. If the <a href="https://getcomposer.org/doc/04-schema.md#bin">Composer <code>bin</code></a> is set, Box will pick the first value provided. Otherwise it
will fallback on the <a href="https://secure.php.net/manual/en/class.phar.php">PHAR</a> default file used which is <code>index.php</code>.</p>
<p>The main file contents is processed by the <a href="#compactors-compactors">compactors</a> as the other files.</p>
<p>If the main file starts with a shebang line (<code>#!</code>), it will be automatically removed (the shebang line goes in the
<a href="#stub">stub</a> for a PHAR and is configured by the <a href="#shebang-shebang">shebang</a> setting).</p>
<h2 id="output-output">Output (<code>output</code>)<a class="headerlink" href="#output-output" title="Permanent link">&para;</a></h2>
<p>The output (<code>string</code>|<code>null</code>) setting specifies the file name and path of the newly built PHAR. If the value of the
setting is not an absolute path, the path will be relative to the base path.</p>
<p>If not provided or set to <code>null</code>, the default value used will based on the <a href="#main-main"><code>main</code></a>. For example if the main file
is <code>bin/acme.php</code> or <code>bin/acme</code> then the output will be <code>bin/acme.phar</code>.</p>
<h2 id="permissions-chmod">Permissions (<code>chmod</code>)<a class="headerlink" href="#permissions-chmod" title="Permanent link">&para;</a></h2>
<p>The chmod (<code>string</code>|<code>null</code>) setting is used to change the file permissions of the newly built PHAR. The string contains
an octal value e.g. <code>0750</code>. By default the permissions of the created PHAR are unchanged so it should be <code>0644</code>.</p>
<p>Check the following <a href="https://secure.php.net/manual/en/function.chmod.php">PHP official documentation for <code>chmod()</code></a> for more on the possible values.</p>
<h2 id="check-requirements-check-requirements">Check requirements (<code>check-requirements</code>)<a class="headerlink" href="#check-requirements-check-requirements" title="Permanent link">&para;</a></h2>
<p>The check requirements setting (<code>boolean</code>|<code>null</code>, default <code>true</code>) is used to allow the PHAR to check for the application
constraint before running. See more information about it <a href="../requirement-checker/#requirements-checker">here</a>. If not set or set to <code>null</code>, then
the requirement checker will be added. Note that this is true only if either the <code>composer.json</code>  or <code>composer.lock</code>
could have been found.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>this check is still done within the PHAR. As a result, if <a href="#compression-algorithm-compression">the required extension to open the PHAR</a>
due to the compression algorithm is not loaded, a hard failure will still appear: the requirement
checker <em>cannot</em> be executed before that.</p>
</div>
<h2 id="including-files">Including files<a class="headerlink" href="#including-files" title="Permanent link">&para;</a></h2>
<p>There is two ways to include files. The first one is to not be picky about which files are shipped in the PHAR. If you
omit any of the following options, <em>all</em> the files found. The base directory used to find the files is either the
configuration file if one is used/specified or the current working directory otherwise. The <a href="#blacklist-blacklist"><code>blacklist</code></a>
setting can be used to filter out some files from that selection.</p>
<p>If you however want a more granular selection, you can use a combination of the following options: <a href="#files-files-and-files-bin"><code>files</code></a>,
<a href="#files-files-and-files-bin"><code>files-bin</code></a>, <a href="#directories-directories-and-directories-bin"><code>directories</code></a>, <a href="#directories-directories-and-directories-bin"><code>directories-bin</code></a>, <a href="#finder-finder-and-finder-bin"><code>finder</code></a>,
<a href="#finder-finder-and-finder-bin"><code>finder-bin</code></a>, <a href="#blacklist-blacklist"><code>blacklist</code></a>.</p>
<p>If <a href="#directories-directories-and-directories-bin"><code>directories</code></a> or <a href="#finder-finder-and-finder-bin"><code>finder</code></a> is set (this includes empty values), Box will no longer try to
guess which files should be included or not (unless you <a href="#force-auto-discovery-force-autodiscovery">force the auto-discovery</a>) and will give
you full control on it instead.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, dev dependencies are excluded for both strategies. However if you still which to include a file
or directory from a dev dependency, you can do so by adding it via one of the following setting: <a href="#files-files-and-files-bin"><code>files</code></a>,
<a href="#files-files-and-files-bin"><code>files-bin</code></a>, <a href="#directories-directories-and-directories-bin"><code>directories</code></a> or <a href="#directories-directories-and-directories-bin"><code>directories-bin</code></a>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>binary files are added <em>before</em> regular files. As a result if a file is found in both regular files and
binary files, the regular file will take precedence.</p>
</div>
<h3 id="force-auto-discovery-force-autodiscovery">Force auto-discovery (<code>force-autodiscovery</code>)<a class="headerlink" href="#force-auto-discovery-force-autodiscovery" title="Permanent link">&para;</a></h3>
<p>The <code>force-autodiscovery</code> (<code>bool</code> default <code>false</code>) setting forces Box to attempt to find which files to include even
though you are using the <a href="#directories-directories-and-directories-bin"><code>directories</code></a> or <a href="#finder-finder-and-finder-bin"><code>finder</code></a> setting.</p>
<p>When Box tries to find which files to include, it may remove some files such as readmes or test files. If however you
are using the <a href="#directories-directories-and-directories-bin"><code>directories</code></a> or <a href="#finder-finder-and-finder-bin"><code>finder</code></a>, Box will <em>append</em> the found files to the ones you
listed.</p>
<h3 id="files-files-and-files-bin">Files (<code>files</code> and <code>files-bin</code>)<a class="headerlink" href="#files-files-and-files-bin" title="Permanent link">&para;</a></h3>
<p>The <code>files</code> (<code>string[]</code>|<code>null</code> default <code>[]</code>) setting is a list of files paths relative to <a href="#base-path-base-path"><code>base-path</code></a>
unless absolute. Each file will be processed by the <a href="#compactors-compactors">compactors</a>, have their placeholder values replaced
(see: <a href="#replaceable-placeholders"><code>replacements</code></a>) and added to the PHAR.</p>
<p>This setting is not affected by the <a href="#blacklist-blacklist"><code>blacklist</code></a> setting.</p>
<p><code>files-bin</code> is analogue to <code>files</code> except the files are added to the PHAR unmodified. This is suitable for the files
such as images, those that contain binary data or simply a file you do not want to alter at all despite using
<a href="#compactors-compactors">compactors</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Symlinks are not followed/supported.</p>
</div>
<h3 id="directories-directories-and-directories-bin">Directories (<code>directories</code> and <code>directories-bin</code>)<a class="headerlink" href="#directories-directories-and-directories-bin" title="Permanent link">&para;</a></h3>
<p>The directories (<code>string[]</code>|<code>null</code> default <code>[]</code>) setting is a list of directory paths relative to
<a href="#base-path-base-path"><code>base-path</code></a>. All files will be processed by the <a href="#compactors-compactors">compactors</a>, have their placeholder values
replaced (see: <a href="#replaceable-placeholders"><code>replacements</code></a>) and added to the PHAR.</p>
<p>Files listed in the <a href="#blacklist-blacklist"><code>blacklist</code></a> will not be added to the PHAR.</p>
<p><code>directories-bin</code> is analogue to <code>directories</code> except the files are added to the PHAR unmodified. This is suitable for
the files such as images, those that contain binary data or simply a file you do not want to alter at all despite using
compactors.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Setting the key <code>directories</code> (regardless of its value), will disable the file auto-discovery. If you want
to keep it, check the <a href="#force-auto-discovery-force-autodiscovery">force the auto-discovery</a> setting.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>By default Box excludes some files (e.g. dot files, readmes &amp; co). This is done in order to attempt to
reduce the final PHAR size. There is at the moment no way to disable this (maybe this could be done via a new setting)
but it remains possible to include them via <a href="#files-files-and-files-bin"><code>files</code></a>, <a href="#files-files-and-files-bin"><code>files-bin</code></a>, <code>directories-bin</code> or your own
<a href="#finder-finder-and-finder-bin"><code>finder</code></a> or <a href="#finder-finder-and-finder-bin"><code>finder-bin</code></a>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If some files are expected to be excluded from the <a href="#finder-finder-and-finder-bin"><code>finder</code></a> (respectively <a href="#finder-finder-and-finder-bin"><code>finder-bin</code></a>) but
included in <code>directories</code> (respectively <code>directories-bin</code>), the those files <strong>will be included</strong>. The files included
are a union of the directives.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Symlinks are not followed/supported.</p>
</div>
<h3 id="finder-finder-and-finder-bin">Finder (<code>finder</code> and <code>finder-bin</code>)<a class="headerlink" href="#finder-finder-and-finder-bin" title="Permanent link">&para;</a></h3>
<p>The finder (<code>object[]</code>|<code>null</code> default <code>[]</code>) setting is a list of JSON objects. Each object (key, value) tuple is a
(method, arguments) of the <a href="https://symfony.com/doc/current/components/finder.html">Symfony Finder</a> used by Box. If an array of values is provided for a single
key, the method will be called once per value in the array.</p>
<p>Note that the paths specified for the <code>in</code> method are relative to <a href="#base-path-base-path"><code>base-path</code></a> and that the finder will
account for the files registered in the <a href="#blacklist-blacklist"><code>blacklist</code></a>.</p>
<p><code>finder-bin</code> is analogue to <code>finder</code> except the files are added to the PHAR unmodified. This is suitable for the files
such as images, those that contain binary data or simply a file you do not want to alter at all despite using
<a href="#compactors-compactors">compactors</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Setting the key <code>finder</code> (regardless of its value), will disable the file auto-discovery. If you want
to keep it, check the <a href="#force-auto-discovery-force-autodiscovery">force the auto-discovery</a> setting.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If some files are expected to be excluded from the <a href="#finder-finder-and-finder-bin"><code>finder</code></a> (respectively <a href="#finder-finder-and-finder-bin"><code>finder-bin</code></a>) but
included in <code>directories</code> (respectively <code>directories-bin</code>), the those files <strong>will be included</strong>. The files included
are a union of the directives.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Symlinks are not followed/supported.</p>
</div>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;finder&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;notName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/LICENSE|.*\\.md|.*\\.dist|Makefile|composer\\.json|composer\\.lock/&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;exclude&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;doc&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;test_old&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;tests&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;Tests&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="s2">&quot;vendor-bin&quot;</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">              </span><span class="nt">&quot;in&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vendor&quot;</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;composer.json&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;in&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="blacklist-blacklist">Blacklist (<code>blacklist</code>)<a class="headerlink" href="#blacklist-blacklist" title="Permanent link">&para;</a></h3>
<p>The <code>blacklist</code> (<code>string[]</code>|<code>null</code> default <code>[]</code>) setting is a list of files that must not be added. The files
blacklisted are the ones found using the other available configuration settings: <a href="#files-files-and-files-bin"><code>files</code></a>, <a href="#files-files-and-files-bin"><code>files-bin</code></a>,
<a href="#directories-directories-and-directories-bin"><code>directories</code></a>, <a href="#directories-directories-and-directories-bin"><code>directories-bin</code></a>, <a href="#finder-finder-and-finder-bin"><code>finder</code></a>, <a href="#finder-finder-and-finder-bin"><code>finder-bin</code></a>.</p>
<p>Note that all the blacklisted paths are relative to the settings configured above. For example if you have the following
file structure:</p>
<div class="highlight"><pre><span></span><code>project/
├── box.json.dist
├── A/
|   ├── A00
|   └── A01
└── B/
    ├── B00
    ├── B01
    └── A/
        └── BA00
</code></pre></div>
<p>With:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="err">o</span><span class="kc">t</span><span class="err">her</span><span class="w"> </span><span class="kc">n</span><span class="err">o</span><span class="kc">n</span><span class="w"> </span><span class="kc">f</span><span class="err">ile</span><span class="w"> </span><span class="err">rela</span><span class="kc">te</span><span class="err">d</span><span class="w"> </span><span class="err">se</span><span class="kc">tt</span><span class="err">i</span><span class="kc">n</span><span class="err">gs</span>

<span class="w">    </span><span class="nt">&quot;blacklist&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;A&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Box will try to collect all the files found in <code>project</code> (cf. <a href="#including-files">Including files</a>) but will exclude <code>A/</code>
and `B/A resulting in the following files being collected:</p>
<div class="highlight"><pre><span></span><code>project/
├── box.json.dist
└── B/
    ├── B00
    └── B01
</code></pre></div>
<p>If you want a more granular blacklist leverage, use the <a href="#finder-finder-and-finder-bin">Finders configuration</a> instead.</p>
<h3 id="excluding-the-composer-files-exclude-composer-files">Excluding the Composer files (<code>exclude-composer-files</code>)<a class="headerlink" href="#excluding-the-composer-files-exclude-composer-files" title="Permanent link">&para;</a></h3>
<p>The <code>exclude-composer-files</code> (<code>boolean</code>|<code>null</code>, default <code>true</code>) setting will result in removing the Composer files
<code>composer.json</code>, <code>composer.lock</code> and <code>vendor/composer/installed.json</code> if they are found regardless of whether or not
they were found by Box alone or explicitly included.</p>
<h3 id="excluding-dev-files-exclude-dev-files">Excluding dev files (<code>exclude-dev-files</code>)<a class="headerlink" href="#excluding-dev-files-exclude-dev-files" title="Permanent link">&para;</a></h3>
<p>The <code>exclude-dev-files</code> (<code>bool</code> default <code>true</code>) setting will, when enabled, cause Box to attempt to exclude the files
belonging to dev only packages. For example for the given project:</p>
<details>

<summary>composer.json</summary>

<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;require&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;beberlei/assert&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^3.0&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;require-dev&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;bamarni/composer-bin-plugin&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^1.2&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</details>

<p>The <code>vendor</code> directory will have <code>beberlei/assert</code> and <code>bamarni/composer-bin-plugin</code>. If <code>exclude-dev-files</code> is not
disabled, the <code>bamarni/composer-bin-plugin</code> package will be removed from the PHAR.</p>
<p>This setting will automatically be disabled when <a href="#dumping-the-composer-autoloader-dump-autoload"><code>dump-autoload</code></a> is disabled. Indeed, otherwise some
files will not be shipped in the PHAR but may still appear in the Composer autoload classmap, resulting in an
autoloading error.</p>
<h3 id="map-map">Map (<code>map</code>)<a class="headerlink" href="#map-map" title="Permanent link">&para;</a></h3>
<p>The map (<code>object[]</code> default <code>[]</code>) setting is used to change where some (or all) files are stored inside the PHAR. The key
is a beginning of the relative path that will be matched against the file being added to the PHAR. If the key is a
match, the matched segment will be replaced with the value. If the key is empty, the value will be prefixed to all paths
(except for those already matched by an earlier key).</p>
<p>For example, with the following configuration excerpt:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;map&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;my/test/path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;src/Test&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;src/Another&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>with the following files added to the PHAR:</p>
<ul>
<li><code>my/test/path/file.php</code></li>
<li><code>my/test/path/some/other.php</code></li>
<li><code>my/test/another.php</code></li>
</ul>
<p>the above files will be stored with the following paths in the PHAR:</p>
<ul>
<li><code>src/Test/file.php</code></li>
<li><code>src/Test/some/other.php</code></li>
<li><code>src/Another/my/test/another.php</code></li>
</ul>
<h2 id="stub">Stub<a class="headerlink" href="#stub" title="Permanent link">&para;</a></h2>
<p>The <a href="https://secure.php.net/manual/en/phar.fileformat.stub.php">PHAR stub</a> file is the PHAR bootstrapping file, i.e. the very first file executed whenever
the PHAR is executed. It usually contains things like the PHAR configuration and executing the <a href="#main-main">main script file</a>.</p>
<p>The default PHAR stub file can be used but Box also propose a couple of options to customize the stub used.</p>
<h3 id="stub-stub">Stub (<code>stub</code>)<a class="headerlink" href="#stub-stub" title="Permanent link">&para;</a></h3>
<p>The stub (<code>string</code>|<code>boolean</code>|<code>null</code> default <code>true</code>) setting is used to specify the location of a stub file or if one
should be generated:</p>
<ul>
<li><code>string</code>: Path to the stub file will be used as is inside the PHAR</li>
<li><code>true</code> (default): A new stub will be generated</li>
<li><code>false</code>: The default stub used by the PHAR class will be used</li>
</ul>
<p>If a custom stub file is provided, none of the other options (<a href="#shebang-shebang"><code>shebang</code></a>, <a href="#intercept-intercept"><code>intercept</code></a> and
<a href="#alias-alias"><code>alias</code></a>) are used.</p>
<h3 id="shebang-shebang">Shebang (<code>shebang</code>)<a class="headerlink" href="#shebang-shebang" title="Permanent link">&para;</a></h3>
<p>The shebang (<code>string</code>|<code>false</code>|<code>null</code>) setting is used to specify the shebang line used when generating a new stub. By
default, this line is used:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env php</span>
</code></pre></div>
<p>The shebang line can be removed altogether if set to <code>false</code>.</p>
<h3 id="intercept-intercept">Intercept (<code>intercept</code>)<a class="headerlink" href="#intercept-intercept" title="Permanent link">&para;</a></h3>
<p>The intercept (<code>boolean</code>|<code>null</code> default <code>false</code>) setting is used when generating a new stub. If setting is set to
<code>true</code>, the <a href="https://secure.php.net/manual/en/phar.interceptfilefuncs.php">Phar::interceptFileFuncs()</a> method will be called in the stub.</p>
<h3 id="alias-alias">Alias (<code>alias</code>)<a class="headerlink" href="#alias-alias" title="Permanent link">&para;</a></h3>
<p>The <code>alias</code> (<code>string</code>|<code>null</code>) setting is used when generating a new stub to call the <a href="https://secure.php.net/manual/en/phar.mapphar.php"><code>Phar::mapPhar()</code></a>.
This makes it easier to refer to files in the PHAR and ensure the access to internal files will always work regardless
of the location of the PHAR on the file system.</p>
<p>If no alias is provided, a generated unique name will be used for it in order to map the <a href="#main-main">main file</a>. Note that this
may have undesirable effects if you are using the generated <a href="#stub-stub">stub</a></p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="x">// .phar.stub</span>

<span class="x">#!/usr/bin/env php</span>
<span class="cp">&lt;?php</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">class_exists</span><span class="p">(</span><span class="s1">&#39;Phar&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">Phar</span><span class="o">::</span><span class="na">mapPhar</span><span class="p">(</span><span class="s1">&#39;alias.phar&#39;</span><span class="p">);</span>
    <span class="k">require</span> <span class="s1">&#39;phar://&#39;</span> <span class="o">.</span> <span class="no">__FILE__</span> <span class="o">.</span> <span class="s1">&#39;/index.php&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">__HALT_COMPILER</span><span class="p">();</span> <span class="cp">?&gt;</span>


<span class="x">// index.php</span>
<span class="cp">&lt;?php</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">&#39;EXECUTE&#39;</span><span class="p">]))</span> <span class="p">{</span>
    <span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">&#39;EXECUTE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// On the first execution, we require that other file while</span>
<span class="c1">// on the second we will echo &quot;Hello world!&quot;</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">&#39;EXECUTE&#39;</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">require</span> <span class="s1">&#39;foo.php&#39;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Hello world!&#39;</span><span class="p">;</span>
<span class="p">}</span>


<span class="c1">// foo.php</span>
<span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$GLOBALS</span><span class="p">[</span><span class="s1">&#39;EXECUTE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>

<span class="c1">// Notice how we are using `phar://alias.phar` here. This will</span>
<span class="c1">// always work. This allows you to not have to find where the file</span>
<span class="c1">// is located in the PHAR neither finding the PHAR file path</span>
<span class="k">require</span> <span class="s1">&#39;phar://alias.phar/index.php&#39;</span><span class="p">;</span>
</code></pre></div>
<p>If you are using the default stub, <a href="https://secure.php.net/manual/en/phar.setalias.php"><code>Phar::setAlias()</code></a> will be used. Note however that this will behave
slightly differently.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nv">$phar</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Phar</span><span class="p">(</span><span class="s1">&#39;index.phar&#39;</span><span class="p">);</span> <span class="c1">// Warning: creating a Phar instance results in *loading* the file. From this point, the</span>
                                <span class="c1">// PHAR stub file has been loaded and as a result, if the PHAR had an alias the alias</span>
                                <span class="c1">// will be registered.</span>
<span class="nv">$phar</span><span class="o">-&gt;</span><span class="na">setAlias</span><span class="p">(</span><span class="s1">&#39;foo.phar&#39;</span><span class="p">);</span>
<span class="nv">$phar</span><span class="o">-&gt;</span><span class="na">addFile</span><span class="p">(</span><span class="s1">&#39;LICENSE&#39;</span><span class="p">);</span>

<span class="nb">file_get_contents</span><span class="p">(</span><span class="s1">&#39;phar://foo.phar/LICENSE&#39;</span><span class="p">);</span> <span class="c1">// Will work both inside the PHAR but as well as outside as soon as the</span>
                                              <span class="c1">// PHAR is loaded in-memory.</span>
</code></pre></div>
<p>As you can see above, loading a PHAR which has an alias result in a non-negligible side effect. A typical case where this
might be an issue can be illustrated with box itself. For its end-to-end test, the process is along the lines of:</p>
<ul>
<li>
<ol>
<li>Build a PHAR <code>box.phar</code> from the source code</li>
</ol>
</li>
<li>
<ol>
<li>Build the PHAR <code>box.phar</code> from the source again but using the previous PHAR this time</li>
</ol>
</li>
</ul>
<p>If an alias <code>box-alias.phar</code> was registered for both for example, the building would fail. Indeed when building the second
PHAR, the first PHAR is loaded which loads the alias <code>box-alias.phar</code>. When creating the second PHAR, box would try to
register the alias <code>box-alias.phar</code> to that new PHAR but as the alias is already used, an error will be thrown.</p>
<h3 id="banner-banner">Banner (<code>banner</code>)<a class="headerlink" href="#banner-banner" title="Permanent link">&para;</a></h3>
<p>The banner (<code>string</code>|<code>string[]</code>|<code>false</code>|<code>null</code>) setting is the banner comment that will be used when a new stub is
generated. The value of this setting must not already be enclosed within a comment block as it will be automatically
done for you.</p>
<p>For example <code>Custom banner</code> will result in the stub file:</p>
<div class="highlight"><pre><span></span><code><span class="x">/*</span>
<span class="x"> * Custom banner</span>
<span class="x"> */</span>
</code></pre></div>
<p>An array of strings can be used for multilines banner:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;banner&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="s2">&quot;This file is part of the box project.&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;(c) Kevin Herrera &lt;kevin@herrera.io&gt;&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;Théo Fidry &lt;theo.fidry@gmail.com&gt;&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;This source file is subject to the MIT license that is bundled&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="s2">&quot;with this source code in the file LICENSE.&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Will result in:</p>
<div class="highlight"><pre><span></span><code><span class="x">/*</span>
<span class="x"> * This file is part of the box project.</span>
<span class="x"> *</span>
<span class="x"> * (c) Kevin Herrera &lt;kevin@herrera.io&gt;</span>
<span class="x"> *     Théo Fidry &lt;theo.fidry@gmail.com&gt;</span>
<span class="x"> *</span>
<span class="x"> * This source file is subject to the MIT license that is bundled</span>
<span class="x"> * with this source code in the file LICENSE.</span>
<span class="x"> */</span>
</code></pre></div>
<p>By default, the Box banner is used. If set to <code>false</code>, no banner at all will be used.</p>
<p>The content of this value is discarded if <a href="#banner-file-banner-file"><code>banner-file</code></a> is set.</p>
<h3 id="banner-file-banner-file">Banner file (<code>banner-file</code>)<a class="headerlink" href="#banner-file-banner-file" title="Permanent link">&para;</a></h3>
<p>The banner-file (<code>string</code>|<code>null</code> ignored by default) setting is like banner, except it is a path (relative to
<a href="#base-path-base-path">the base path</a>) to the file that will contain the comment.</p>
<p>Like banner, the comment must not already be enclosed in a comment block.</p>
<p>If this parameter is set to a different value than <code>null</code>, then the value of <a href="#banner-banner"><code>banner</code></a> will be discarded.</p>
<h2 id="forcing-the-timestamp-timestamp">Forcing the timestamp (<code>timestamp</code>)<a class="headerlink" href="#forcing-the-timestamp-timestamp" title="Permanent link">&para;</a></h2>
<p>The <code>timestamp</code> (<code>string</code>|<code>null</code>, default <code>null</code>) setting will result in Box forcing the timestamp of the PHAR. By
default, the timestamp of the PHAR is the one at which the PHAR was built. It may be useful to fix it for
<a href="../reproducible-builds/#reproducible-builds">reproducible builds</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Forcing the timestamp cannot be done when using an <a href="#signing-algorithm-algorithm">OpenSSL signature</a>.</p>
</div>
<h2 id="dumping-the-composer-autoloader-dump-autoload">Dumping the Composer autoloader (<code>dump-autoload</code>)<a class="headerlink" href="#dumping-the-composer-autoloader-dump-autoload" title="Permanent link">&para;</a></h2>
<p>The <code>dump-autoload</code> (<code>boolean</code>|<code>null</code>, default <code>true</code>) setting will result in Box dump the Composer autoload with the
<a href="https://getcomposer.org/doc/articles/autoloader-optimization.md#optimization-level-2-a-authoritative-class-maps">classmap authoritative mode</a> and the <a href="https://getcomposer.org/doc/03-cli.md#dump-autoload-dumpautoload-"><code>--no-dev</code> option</a> which
disables the <code>autoload-dev</code> rules. This is however done only if a <code>composer.json</code> file could be found. If a
<code>composer.lock</code> file is found as well, the file <code>vendor/composer/installed.json</code> will be required too.</p>
<p>The dumping of the autoloader will be <em>ignored</em> if the <code>composer.json</code> file could not be found.</p>
<p>The autoloader is dumped at the end of the process to ensure it will take into account the eventual modifications done
by the <a href="#compactors-compactors">compactors</a> process.</p>
<h2 id="compactors-compactors">Compactors (<code>compactors</code>)<a class="headerlink" href="#compactors-compactors" title="Permanent link">&para;</a></h2>
<p>The compactors (<code>string[]</code>|<code>null</code> default <code>[]</code>) setting is a list of file contents compacting classes that must be
registered. A file compacting class is used to reduce the size of a specific file type. The following is a simple
example:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">Acme</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">KevinGH\Box\Compactor\Compactor</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyCompactor</span> <span class="k">implements</span> <span class="nx">Compactor</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * {@inheritdoc}</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">compact</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$file</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$contents</span><span class="p">)</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">preg_match</span><span class="p">(</span><span class="s1">&#39;/\.txt/&#39;</span><span class="p">,</span> <span class="nx">\</span><span class="nv">$file</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">trim</span><span class="p">(</span><span class="nv">$contents</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$contents</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The following compactors are included with Box:</p>
<ul>
<li><code>KevinGH\Box\Compactor\Json</code>: compress JSON files</li>
<li><code>KevinGH\Box\Compactor\Php</code>: strip down classes from phpdocs &amp; comments</li>
<li><code>KevinGH\Box\Compactor\PhpScoper</code>: isolate the code using <a href="https://github.com/humbug/php-scoper">PHP-Scoper</a></li>
</ul>
<p>The effects of the <a href="#compactors-compactors">compactors</a> and <a href="#replaceable-placeholders">replacement values</a> can be tested with the <code>process</code>
command ✨.</p>
<h3 id="annotations-annotations">Annotations (<code>annotations</code>)<a class="headerlink" href="#annotations-annotations" title="Permanent link">&para;</a></h3>
<p>The annotations (<code>boolean</code>|<code>object</code>|<code>null</code> default <code>true</code>) setting is used to enable compacting annotations in PHP source
code.</p>
<p>This setting is only taken into consideration if the <a href="#compactors-compactors"><code>KevinGH\Box\Compactor\Php</code> compactor</a> is enabled.</p>
<p>By default, it removes all non real-like annotations from the PHP code. See the following example:</p>
<details>
<summary>Original code</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="sd">/**</span>
<span class="sd"> * Function comparing the two given values</span>
<span class="sd"> *</span>
<span class="sd"> * @param int $x</span>
<span class="sd"> * @param int $y</span>
<span class="sd"> *</span>
<span class="sd"> * @return int</span>
<span class="sd"> *</span>
<span class="sd"> * @author Théo Fidry</span>
<span class="sd"> * @LICENSE MIT</span>
<span class="sd"> *</span>
<span class="sd"> * @Acme(type = &quot;function&quot;)</span>
<span class="sd"> */</span>
<span class="k">function</span> <span class="nf">foo</span><span class="p">(</span><span class="nv">$x</span><span class="p">,</span> <span class="nv">$y</span><span class="p">)</span><span class="o">:</span> <span class="nx">int</span> <span class="p">{</span>
    <span class="c1">// Compare the two values</span>
    <span class="k">return</span> <span class="nv">$x</span> <span class="o">&lt;=&gt;</span> <span class="nv">$y</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details>
<summary>Compacted code</summary>

<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="sd">/**</span>
<span class="sd">@Acme(type=&quot;function&quot;)</span>










<span class="sd">*/</span>
<span class="k">function</span> <span class="nf">foo</span><span class="p">(</span><span class="nv">$x</span><span class="p">,</span> <span class="nv">$y</span><span class="p">)</span><span class="o">:</span> <span class="nx">int</span> <span class="p">{</span>

 <span class="k">return</span> <span class="nv">$x</span> <span class="o">&lt;=&gt;</span> <span class="nv">$y</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

</details>

<p>Note that the empty line returns are on purpose: it is to keep the same line number for the files between your source
code and the code bundled in the PHAR.</p>
<p>If you wish to keep all annotations, you can disable the annotations like so:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;annotations&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">}</span>
</code></pre></div>
<p>For a more granular list, you can manually configure the list of annotations you wish to ignore:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;annotations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ignore&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;author&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;package&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;version&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;see&quot;</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="php-scoper-php-scoper">PHP-Scoper (<code>php-scoper</code>)<a class="headerlink" href="#php-scoper-php-scoper" title="Permanent link">&para;</a></h3>
<p>The PHP-Scoper setting (<code>string</code>|<code>null</code> default <code>scoper.inc.php</code>) points to the path to the
<a href="https://github.com/humbug/php-scoper#configuration">PHP-Scoper configuration</a> file. For more documentation regarding PHP-Scoper, you can head to
<a href="../code-isolation/#phar-code-isolation">PHAR code isolation</a> or <a href="https://github.com/humbug/php-scoper">PHP-Scoper official documentation</a>.</p>
<p>Note that this setting is used only if the compactor <code>KevinGH\Box\Compactor\PhpScoper</code> is registered.</p>
<h2 id="compression-algorithm-compression">Compression algorithm (<code>compression</code>)<a class="headerlink" href="#compression-algorithm-compression" title="Permanent link">&para;</a></h2>
<p>The compression (<code>string</code>|<code>null</code> default <code>'NONE'</code>) setting is the compression algorithm to use when the PHAR is built. The
compression affects the individual files within the PHAR and not the PHAR as a whole
(<a href="https://secure.php.net/manual/en/phar.compress.php"><code>Phar::compressFiles()</code></a>). The following is a list of the signature algorithms available:</p>
<ul>
<li><code>GZ</code> (the most efficient most of the time)</li>
<li><code>BZ2</code></li>
<li><code>NONE</code> (default)</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Be aware that if compressed, the PHAR will required the appropriate extension (<a href="https://secure.php.net/manual/en/book.zlib.php"><code>zlib</code></a> for
<code>GZ</code> and <a href="https://secure.php.net/manual/en/book.bzip2.php"><code>bz2</code></a> for <code>BZ2</code>) to execute the PHAR. Without it, PHP will <em>not</em> be able to open the PHAR
at all.</p>
</div>
<h2 id="security">Security<a class="headerlink" href="#security" title="Permanent link">&para;</a></h2>
<h3 id="signing-algorithm-algorithm">Signing algorithm (<code>algorithm</code>)<a class="headerlink" href="#signing-algorithm-algorithm" title="Permanent link">&para;</a></h3>
<p>The algorithm (<code>string</code>|<code>null</code> default <code>SHA1</code>) setting is the signing algorithm to use when the PHAR is built
(<a href="https://secure.php.net/manual/en/phar.setsignaturealgorithm.php"><code>Phar::setSignatureAlgorithm()</code></a>). The following is a list of the signature algorithms
available:</p>
<ul>
<li><code>MD5</code></li>
<li><code>SHA1</code></li>
<li><code>SHA256</code></li>
<li><code>SHA512</code></li>
<li><code>OPENSSL</code> (deprecated)</li>
</ul>
<p>By default, PHARs are <code>SHA1</code> signed.</p>
<p>The <code>OPENSSL</code> algorithm will require to provide <a href="#the-private-key-key">a key</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The OpenSSL signature has been deprecated as of Box 4.4.0. If you are wondering why check out
<a href="../phar-signing/#phar-signing-best-practices">the signing best practices</a>.</p>
</div>
<h3 id="the-private-key-key">The private key (<code>key</code>)<a class="headerlink" href="#the-private-key-key" title="Permanent link">&para;</a></h3>
<p>The key (<code>string</code>|<code>null</code> default <code>null</code>) setting is used to specify the path to the private key file. The private key file
will be used to sign the PHAR using the <code>OPENSSL</code> signature algorithm (see <a href="#signing-algorithm-algorithm">Signing algorithm</a>) and the
setting will be completely ignored otherwise. If an absolute path is not provided, the path will be relative to the
current working directory.</p>
<h3 id="the-private-key-password-key-pass">The private key password (<code>key-pass</code>)<a class="headerlink" href="#the-private-key-password-key-pass" title="Permanent link">&para;</a></h3>
<p>The private key password  (<code>string</code>|<code>boolean</code>|<code>null</code> default <code>null</code>) setting is used to specify the pass-phrase for the
private key. If a string is provided, it will be used as is as the pass-phrase. If <code>true</code> is provided, you will be
prompted for the passphrase unless you are not in an interactive environment.</p>
<p>This setting will be ignored if no <a href="#the-private-key-key">key</a> has been provided.</p>
<h2 id="metadata-metadata">Metadata (<code>metadata</code>)<a class="headerlink" href="#metadata-metadata" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The metadata setting has been deprecated as of Box 4.6.0. See <a href="https://github.com/box-project/box/issues/1152">#1152</a>.</p>
</div>
<p>The metadata (<code>any</code> default none) setting can be any value. This value will be stored as metadata that can be retrieved
from the built PHAR (<a href="https://secure.php.net/manual/en/phar.getmetadata.php">Phar::getMetadata()</a>).</p>
<p>If you specify a callable (as a string), it will be evaluated without any arguments.</p>
<p>For example, if you take the following code:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1"># callable_script.php</span>
<span class="k">class</span> <span class="nc">MyCallbacks</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">generateMetadata</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;application_version&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;1.0.0-dev&#39;</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>With the configuration excerpt:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MyCallbacks::generateMetadata&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>Then the <code>Phar::getMetadata()</code> will return <code>['application_version' =&gt; '1.0.0-dev']</code> array.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Your callable function must be readable by your autoloader.</p>
</div>
<p>That means, for Composer, in previous example, we require to have such kind of declaration in your <code>composer.json</code> file.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;autoload&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;files&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;/path/to/your/callable_script.php&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="replaceable-placeholders">Replaceable placeholders<a class="headerlink" href="#replaceable-placeholders" title="Permanent link">&para;</a></h2>
<p>This feature allows you to set placeholders in your code which will be replaced by different values by Box when building
the PHAR.</p>
<p>For example, if you take the following code:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">Application</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getVersion</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s1">&#39;@git_commit_short@&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>With the configuration excerpt:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;git-commit-short&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;git_commit_short&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>Then the actual code shipped in the PHAR will be:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">Application</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getVersion</span><span class="p">()</span><span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s1">&#39;a6c5d93&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The <code>@</code> is the default value of the <a href="#replacement-sigil-replacement-sigil">sigil</a> which is the placeholders delimited and
<a href="#short-git-commit-placeholder-git-commit-short"><code>git-commit-short</code></a> is one of the built in placeholder. Box ships a few buit-in placeholders
which you can find bellow, but you can also specify any replacement value via the
<a href="#replacements-replacements"><code>replacements</code> setting</a>.</p>
<p>The effects of the <a href="#compactors-compactors">compactors</a> and <a href="#replaceable-placeholders">replacement values</a> can be tested with the <code>process</code>
command ✨.</p>
<h3 id="replacements-replacements">Replacements (<code>replacements</code>)<a class="headerlink" href="#replacements-replacements" title="Permanent link">&para;</a></h3>
<p>The replacements (<code>object</code>|<code>null</code>, default <code>{}</code>) setting is a map of placeholders (as keys) and their values. The
placeholders are replaced in all <a href="#including-files">non-binary files</a> with the specified values.</p>
<p>For example:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;replacements&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Will result in the string <code>@foo@</code> in your code to be replaced by <code>'bar'</code>. The delimiter <code>@</code> being the
<a href="#replacement-sigil-replacement-sigil">sigil</a>.</p>
<h3 id="replacement-sigil-replacement-sigil">Replacement sigil (<code>replacement-sigil</code>)<a class="headerlink" href="#replacement-sigil-replacement-sigil" title="Permanent link">&para;</a></h3>
<p>The replacement sigil (<code>string</code>|<code>null</code> default <code>@</code>) is the character or chain of characters used to delimit the
placeholders. See the @<a href="#replacements-replacements">replacements</a> setting for examples of placeholders.</p>
<h3 id="datetime-placeholder-datetime">Datetime placeholder (<code>datetime</code>)<a class="headerlink" href="#datetime-placeholder-datetime" title="Permanent link">&para;</a></h3>
<p>The datetime (<code>string</code>|<code>null</code> default <code>null</code>) setting is the name of a placeholder value that will be replaced in all
<a href="#including-files">non-binary files</a> by the current datetime. If no value is given (<code>null</code>) then this placeholder will
be ignored.</p>
<p>Example value the placeholder will be replaced with: <code>2015-01-28 14:55:23 CEST</code></p>
<p>The format of the date used is defined by the <a href="#datetime-placeholder-format-datetime-format"><code>datetime-format</code> setting</a>.</p>
<h3 id="datetime-placeholder-format-datetime-format">Datetime placeholder format (<code>datetime-format</code>)<a class="headerlink" href="#datetime-placeholder-format-datetime-format" title="Permanent link">&para;</a></h3>
<p>The datetime format placeholder (<code>string</code>|<code>null</code>, default <code>Y-m-d H:i:s T</code>) setting accepts a valid
<a href="https://secure.php.net/manual/en/function.date.php">PHP date format</a>. It can be used to change the format for the
<a href="#datetime-placeholder-datetime"><code>datetime</code></a> setting.</p>
<h3 id="pretty-git-tag-placeholder-git">Pretty git tag placeholder (<code>git</code>)<a class="headerlink" href="#pretty-git-tag-placeholder-git" title="Permanent link">&para;</a></h3>
<p>The git tag placeholder (<code>string</code>|<code>null</code> default <code>null</code>) setting is the name of a placeholder value that will be replaced
in all <a href="#including-files">non-binary files</a> by the current git tag of the repository.</p>
<p>Example of value the placeholder will be replaced with:</p>
<ul>
<li><code>2.0.0</code> on an exact tag match</li>
<li><code>2.0.0@e558e33</code> on a commit following a tag</li>
</ul>
<h3 id="git-commit-placeholder-git-commit">Git commit placeholder (<code>git-commit</code>)<a class="headerlink" href="#git-commit-placeholder-git-commit" title="Permanent link">&para;</a></h3>
<p>The git commit (<code>string</code>|<code>null</code> default <code>null</code>) setting is the name of a placeholder value that will be replaced in all
<a href="#including-files">non-binary files</a> by the current git commit hash of the repository.</p>
<p>Example of value the placeholder will be replaced with: <code>e558e335f1d165bc24d43fdf903cdadd3c3cbd03</code></p>
<h3 id="short-git-commit-placeholder-git-commit-short">Short git commit placeholder (<code>git-commit-short</code>)<a class="headerlink" href="#short-git-commit-placeholder-git-commit-short" title="Permanent link">&para;</a></h3>
<p>The short git commit (<code>string</code>|<code>null</code> default <code>null</code>) setting is the name of a placeholder value that will be replaced in
all <a href="#including-files">non-binary files</a> by the current git short commit hash of the repository.</p>
<p>Example of value the placeholder will be replaced with: <code>e558e33</code></p>
<h3 id="git-tag-placeholder-git-tag">Git tag placeholder (<code>git-tag</code>)<a class="headerlink" href="#git-tag-placeholder-git-tag" title="Permanent link">&para;</a></h3>
<p>The git tag placeholder (<code>string</code>|<code>null</code> default <code>null</code>) setting is the name of a placeholder value that will be replaced
in all <a href="#including-files">non-binary files</a> by the current git tag of the repository.</p>
<p>Example of value the placeholder will be replaced with:</p>
<ul>
<li><code>2.0.0</code> on an exact tag match</li>
<li><code>2.0.0-2-ge558e33</code> on a commit following a tag</li>
</ul>
<h3 id="git-version-placeholder-git-version">Git version placeholder (<code>git-version</code>)<a class="headerlink" href="#git-version-placeholder-git-version" title="Permanent link">&para;</a></h3>
<p>The git version (<code>string</code>|<code>null</code> default <code>null</code>) setting is the name of a placeholder value that will be replaced in all
<a href="#including-files">non-binary files</a> by the one of the following (in order):</p>
<ul>
<li>The git repository's most recent tag.</li>
<li>The git repository's current short commit hash.</li>
</ul>
<p>The short commit hash will only be used if no tag is available.</p>
<p><br /></p>
<hr />

<p>« <a href="../installation/#installation">Installation</a> • <a href="../requirement-checker/#requirements-checker">Requirement Checker</a> »</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Box is licensed under <a href="https://github.com/box-project/box/blob/master/LICENSE">MIT license</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/box-project" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "navigation.tabs", "navigation.top"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>